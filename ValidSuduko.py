import math

def isValidSudoku(board):

    n = len(board)
    m = int(math.sqrt(n))

    rows = [set() for _ in range(n)]
    cols = [set() for _ in range(n)]
    boxes = [set() for _ in range(n)]

    for i in range(n):
        for j in range(n):
            num = board[i][j]

            if num == '.':
                continue

            if num in rows[i] or num in cols[j] or num in boxes[(i // m) * m + j // m]:
                return False

            rows[i].add(num)
            cols[j].add(num)
            boxes[(i // 3) * 3 + j // 3].add(num)

    return True

board = [
        ["5","3",".",".","7",".",".",".","."],
        ["6",".",".","1","9","5",".",".","."],
        [".","9","8",".",".",".",".","6","."],
        ["8",".",".",".","6",".",".",".","3"],
        ["4",".",".","8",".","3",".",".","1"],
        ["7",".",".",".","2",".",".",".","6"],
        [".","6",".",".",".",".","2","8","."],
        [".",".",".","4","1","9",".",".","5"],
        [".",".",".",".","8",".",".","7","9"]
    ]

# board =[
# ["5",".",".",".",".",".",".",".","7",".",".",".",".",".",".","."],
# [".",".",".","2",".",".",".",".",".","9",".",".",".",".",".","."],
# [".",".","8",".",".","7",".",".",".",".",".","6",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","3"],
# [".",".",".",".","3",".",".",".",".",".",".",".",".","12",".","."],
# [".","11",".",".",".",".","5",".",".",".",".",".",".",".","13","."],
# [".",".",".",".",".",".",".","8",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."]
# ]

# board = [
# ["5",".",".",".",".",".",".",".","7",".",".",".",".",".",".","."],
# [".",".",".","2",".",".",".",".",".","9",".",".",".",".",".","."],
# [".",".","8",".",".","7",".",".",".",".",".","6",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","3"],
# [".",".",".",".","3",".",".",".",".",".",".",".",".","12",".","."],
# [".","11",".",".",".",".","5",".",".",".",".",".",".",".","13","."],
# [".",".",".",".",".",".",".","8",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."],
# [".",".",".","9",".",".",".",".",".",".",".",".",".",".","13","."],
# [".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."]
# ]

print(isValidSudoku(board))
